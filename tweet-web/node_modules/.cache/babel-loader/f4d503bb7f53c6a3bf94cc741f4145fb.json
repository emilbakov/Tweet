{"ast":null,"code":"import _wrapRegExp from\"D:\\\\test\\\\Tweetme\\\\tweet-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/wrapRegExp\";import _slicedToArray from\"D:\\\\test\\\\Tweetme\\\\tweet-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{ActionBtn}from'./buttons';export function ParentTweet(props){var tweet=props.tweet;return tweet.parent?/*#__PURE__*/React.createElement(Tweet,{isRetweet:true,hideAction:true,className:'',tweet:tweet.parent}):null;}export function Tweet(props){var tweet=props.tweet,didRetweet=props.didRetweet,hideAction=props.hideAction,isRetweet=props.isRetweet;var _useState=useState(props.tweet?props.tweet:null),_useState2=_slicedToArray(_useState,2),actionTweet=_useState2[0],setActionTweet=_useState2[1];var className=props.className?props.className:'col-10 mx-auto col-md-6';var path=window.location.pathname;var match=path.match(/*#__PURE__*/_wrapRegExp(/([0-9]+)/,{tweetid:1}));var urlTweetId=match?match.groups.tweetid:-1;var isDetail=\"\".concat(tweet.id)===\"\".concat(urlTweetId);var handleLink=function handleLink(event){event.preventDefault();window.location.href=\"/\".concat(tweet.id);};var handlePerformAction=function handlePerformAction(newActionTweet,status){if(status===200){setActionTweet(newActionTweet);}else if(status===201){if(didRetweet){didRetweet(newActionTweet);}}};return/*#__PURE__*/React.createElement(\"div\",{className:className},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},/*#__PURE__*/React.createElement(\"span\",{className:\"px-3 py-2 rounded-circle bg-dark text-white\"},tweet.user.username[0])),/*#__PURE__*/React.createElement(\"div\",{className:\"col-11\"},/*#__PURE__*/React.createElement(\"div\",null,isRetweet===true&&/*#__PURE__*/React.createElement(\"span\",{className:\"small text-muted\"},\"Retweet\"),/*#__PURE__*/React.createElement(\"p\",null,tweet.user.first_name,\" \",tweet.user.last_name,\" \",\"@\",tweet.user.username),/*#__PURE__*/React.createElement(\"p\",null,tweet.content),/*#__PURE__*/React.createElement(ParentTweet,{tweet:tweet})),/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-group px-0\"},actionTweet&&hideAction!==true&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:'like',display:\"Likes\"}}),/*#__PURE__*/React.createElement(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:'unlike',display:\"Unlike\"}}),/*#__PURE__*/React.createElement(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:'retweet',display:\"Retweet\"}})),isDetail===true?null:/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-primary\",onClick:handleLink},\"View\")))));}","map":{"version":3,"sources":["D:/test/Tweetme/tweet-web/src/tweets/detail.js"],"names":["React","useState","ActionBtn","ParentTweet","props","tweet","parent","Tweet","didRetweet","hideAction","isRetweet","actionTweet","setActionTweet","className","path","window","location","pathname","match","urlTweetId","groups","tweetid","isDetail","id","handleLink","event","preventDefault","href","handlePerformAction","newActionTweet","status","user","username","first_name","last_name","content","type","display"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\r\nimport {ActionBtn} from './buttons'\r\n\r\n\r\n\r\nexport function ParentTweet(props) {\r\n    const{tweet} = props\r\n    return tweet.parent ? <Tweet isRetweet hideAction className={''} tweet={tweet.parent} /> : null\r\n  } \r\n  \r\n  export function Tweet(props) {\r\n      const{tweet,didRetweet,hideAction, isRetweet} = props\r\n      const [actionTweet,setActionTweet]= useState (props.tweet ? props.tweet :null)\r\n      const className = props.className ? props.className : 'col-10 mx-auto col-md-6'\r\n      const path = window.location.pathname\r\n      const match= path.match(/(?<tweetid>\\d+)/)\r\n      const urlTweetId = match ? match.groups.tweetid : -1\r\n\r\n      const isDetail= `${tweet.id}`===`${urlTweetId}`\r\n      const handleLink = (event) =>{\r\n        event.preventDefault()\r\n        window.location.href =`/${tweet.id}`\r\n\r\n      }\r\n\r\n      const handlePerformAction = (newActionTweet, status) => {\r\n        if(status === 200) {\r\n          setActionTweet(newActionTweet)\r\n        } else if (status===201) {\r\n          if (didRetweet){\r\n            didRetweet(newActionTweet)\r\n          }\r\n  \r\n        } \r\n        \r\n      }\r\n      \r\n      return <div className={className}>\r\n       <div className='d-flex'>\r\n        <div className='col-1'>\r\n          <span className='px-3 py-2 rounded-circle bg-dark text-white'>\r\n          {tweet.user.username[0]}\r\n          </span>\r\n\r\n        </div>\r\n        <div className='col-11'>\r\n        <div>\r\n         {isRetweet=== true && <span className ='small text-muted'>Retweet</span>}\r\n          <p>\r\n            {tweet.user.first_name}{\" \"}\r\n            {tweet.user.last_name}{\" \"}\r\n            @{tweet.user.username}\r\n          </p>\r\n          <p>{tweet.content}</p>\r\n          \r\n          <ParentTweet tweet={tweet} />\r\n        </div>\r\n        \r\n        <div className='btn btn-group px-0'>\r\n        \r\n        {(actionTweet && hideAction !==true) && <React.Fragment>\r\n          <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{type:'like', display:\"Likes\"}}/>\r\n          <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{type:'unlike', display:\"Unlike\"}}/>\r\n          <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{type:'retweet', display:\"Retweet\"}}/>\r\n        </React.Fragment>\r\n        }  \r\n          {isDetail === true ? null :<button className='btn btn-outline-primary' onClick={handleLink}>View</button>}\r\n        </div>\r\n      </div>  \r\n     </div>\r\n     </div> \r\n    }"]},"metadata":{},"sourceType":"module"}